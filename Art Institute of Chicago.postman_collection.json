{
	"info": {
		"_postman_id": "d82cffd7-2934-4247-912f-90a49f9a1442",
		"name": "Art Institute of Chicago",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "37066892"
	},
	"item": [
		{
			"name": "Artwork from the museum",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Removed redundant variable declaration\r",
							"let response = pm.response.json();\r",
							"\r",
							"pm.test(\"Verify the API is returning the Correct Status\", function(){\r",
							"    pm.response.to.have.status(200);\r",
							"    pm.response.to.be.ok;\r",
							"});\r",
							"\r",
							"pm.test(\"Response size is correct\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(1200);\r",
							"    pm.expect(pm.response.responseSize).to.below(7500);\r",
							"});\r",
							"\r",
							"pm.test(\"Verify body items\", function() {\r",
							"    ['preference', 'pagination', 'data', 'info', 'config'].forEach(property => {\r",
							"        pm.expect(response).to.have.property(property);\r",
							"    });\r",
							"});\r",
							"\r",
							"pm.test(\"Verify pagination\", function() {\r",
							"    const pagination = response.pagination;\r",
							"    const expectedValues = {\r",
							"        total: 7770,\r",
							"        limit: 10,\r",
							"        offset: 0,\r",
							"        total_pages: 777,\r",
							"        current_page: 1\r",
							"    };\r",
							"\r",
							"    Object.keys(expectedValues).forEach(key => {\r",
							"        pm.expect(pagination).to.have.property(key);\r",
							"        pm.expect(pagination[key]).to.eql(expectedValues[key]);\r",
							"        pm.expect(pagination[key]).to.be.a('number');\r",
							"    });\r",
							"});\r",
							"\r",
							"const expectedValues = [\r",
							"    {\r",
							"        _score: 135.59004,\r",
							"        thumbnail: {\r",
							"            alt_text: \"A bronze lion, deep green and muscular, looks out in the distance from its pedestal in front of the Art Institute of Chicago.\",\r",
							"            width: 8430,\r",
							"            height: 5620\r",
							"        },\r",
							"        api_model: \"artworks\",\r",
							"        is_boosted: false,\r",
							"        api_link: \"https://api.artic.edu/api/v1/artworks/656\",\r",
							"        id: 656,\r",
							"        title: \"Lion (One of a Pair, South Pedestal)\",\r",
							"        timestamp: \"2024-07-30T23:27:16-05:00\"\r",
							"    },\r",
							"\r",
							"    {\r",
							"          _score: 119.61977,\r",
							"            thumbnail: {\r",
							"                lt_text: \"A work made of oil on board.\",\r",
							"                width: 6486,\r",
							"                lqip: \"data:image/gif;base64,R0lGODlhBAAFAPQAACUiHCckHSghGi4nGislHi0mHjMvJDUuJDUwITcwIz07LUY+LUhALktGNExGNFFINGhYOWdcQXVlRYRmSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAAAALAAAAAAEAAUAAAUR4EAwC3JMjxJJhgM1QSEkQAgAOw==\",\r",
							"                height: 7661\r",
							"            },\r",
							"            api_model: \"artworks\",\r",
							"            is_boosted: false,\r",
							"            api_link: \"https://api.artic.edu/api/v1/artworks/117241\",\r",
							"            id: 117241,\r",
							"            title: \"Girl with Cat\",\r",
							"            timestamp: \"2024-07-30T17:41:46-05:00\"\r",
							"    },\r",
							"       \r",
							"    {\r",
							"         _score: 116.4083,\r",
							"            thumbnail: {\r",
							"                alt_text: \"A work made of oil on cardboard.\",\r",
							"                width: 4603,\r",
							"                lqip: \"data:image/gif;base64,R0lGODlhBAAFAPQAAFpcVVthVGBgSndvSW5hUWtlWHJvVWxpYHJ1bYd+an2Feo6Da4iGcZmTfqWdi6SgkK+rnLS7q7u4qb68rAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAAAALAAAAAAEAAUAAAURoBIIQ8QQBlIsDXAkzjNJUAgAOw==\",\r",
							"                height: 5060\r",
							"            },\r",
							"            api_model: \"artworks\",\r",
							"            is_boosted: false,\r",
							"            api_link: \"https://api.artic.edu/api/v1/artworks/45259\",\r",
							"            id: 45259,\r",
							"            title: \"Nude with Cats\",\r",
							"            timestamp: \"2024-07-30T23:29:00-05:00\"\r",
							"    },\r",
							"        \r",
							"    {\r",
							"        _score: 103.97867,\r",
							"            thumbnail: {\r",
							"                alt_text: \"A color woodblock print of two orangeand white cats with pink noses represented in cubist-like design against a blue, gray and black background\",\r",
							"                width: 1645,\r",
							"                lqip: \"data:image/gif;base64,R0lGODlhBAAFAPQAACAmNC0wPW1VOTw/SVlWUXBlVnV2doVnQ494WYx8aI+BboWAedipa4iOlYyQlI+UmaabkLKpmta2jKi52wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAAAALAAAAAAEAAUAAAURoAJNw5IUQEMggWNIwhMxRwgAOw==\",\r",
							"                height: 2250\r",
							"            },\r",
							"            api_model: \"artworks\",\r",
							"            is_boosted: false,\r",
							"            api_link: \"https://api.artic.edu/api/v1/artworks/16227\",\r",
							"            id: 16227,\r",
							"            title: \"Cat Making Up\",\r",
							"            timestamp: \"2024-07-30T17:20:06-05:00\"\r",
							"    },\r",
							"\r",
							"\r",
							"{\r",
							"        _score: 97.868965,\r",
							"            thumbnail: {\r",
							"                alt_text: \"A work made of watercolor and gouache, over touches of graphite, on cream wove paper.\",\r",
							"                width: 1754,\r",
							"                lqip: \"data:image/gif;base64,R0lGODlhBAAFAPQAAJB4cbqIcIp/irSQgrWXhbScjbGZlqqdqqicr66iusCklcGpm7m0zb+409LH0NPF09XJ1tbL1tnM2d7P3wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAAAALAAAAAAEAAUAAAURYCRBDtNMD5IIxxAARkEoSwgAOw==\",\r",
							"                height: 2250\r",
							"            },\r",
							"            api_model: \"artworks\",\r",
							"            is_boosted: false,\r",
							"            api_link: \"https://api.artic.edu/api/v1/artworks/22482\",\r",
							"            id: 22482,\r",
							"            title: \"Homesickness\",\r",
							"            timestamp: \"2024-07-30T23:22:44-05:00\"\r",
							"    },\r",
							"\r",
							"    {\r",
							"        _score: 93.94984,\r",
							"            thumbnail: {\r",
							"                alt_text: \"A work made of lithograph in 6 colors (red, ochre, yellow, black, gray-brown, brown) from two stones, with scraping on stone, on ivory wove paper.\",\r",
							"                width: 2928,\r",
							"                lqip: \"data:image/gif;base64,R0lGODlhBgAFAPQAAEI9JFFFLV5QPWVaOn1VR31rUHhpV3BnXHprWYBhRpJgUIdyU6VqW6pxXKR5WId9b458bcBvZcdwaM14btR3b9V8c9F/eI6Dc6uHeqKSfcORhtiVjdmWjt6ZkAAAAAAAACH5BAAAAAAALAAAAAAGAAUAAAUY4GUgxZI9QgAk2jE4CrNBhFVRHdZMkcSFADs=\",\r",
							"                height: 2250\r",
							"            },\r",
							"            api_model: \"artworks\",\r",
							"            is_boosted: false,\r",
							"            api_link: \"https://api.artic.edu/api/v1/artworks/51719\",\r",
							"            id: 51719,\r",
							"            title: \"Winter: Cat on a Cushion\",\r",
							"            timestamp: \"2024-07-30T17:27:46-05:00\"\r",
							"    },\r",
							"\r",
							"    {\r",
							"        _score: 92.635445,\r",
							"            thumbnail: {\r",
							"                alt_text: \"A work made of hand-colored woodblock print; tan-e, vertical o-oban.\",\r",
							"                width: 2039,\r",
							"                lqip: \"data:image/gif;base64,R0lGODlhAwAFAPMAAK+RdLmlgryjhrCgiL2oj8KymsWzmMq2msvArMvBrNDBrNDGsdjLtNnOtwAAAAAAACH5BAAAAAAALAAAAAADAAUAAAQLMLFmRCvhDECWQhEAOw==\",\r",
							"                height: 3800\r",
							"            },\r",
							"            api_model: \"artworks\",\r",
							"            is_boosted: false,\r",
							"            api_link: \"https://api.artic.edu/api/v1/artworks/158921\",\r",
							"            id: 158921,\r",
							"            title: \"Courtesan Playing with a Cat\",\r",
							"            timestamp: \"2024-07-30T17:51:32-05:00\"\r",
							"    },\r",
							"\r",
							"    {\r",
							"        _score: 92.40066,\r",
							"            thumbnail: {\r",
							"                alt_text: \"A work made of gold, enamel, and baroque pearl.\",\r",
							"                width: 2911,\r",
							"                lqip: \"data:image/gif;base64,R0lGODlhBgAFAPQAAKGJbLOYdbKafMGhdJ6fn6eWgLSgiLCnnKKhoaWjpKakpaelpqenp66wtbKwsbSztLW0tLi3uLe5v7y9vsasjsO6ssK9vMPAvsfBvMXBwMTCwsLCxcjIyO3m3wAAAAAAACH5BAAAAAAALAAAAAAGAAUAAAUYILMoCUJAjxMczXR1QyFtBiUAEYdVVqaFADs=\",\r",
							"                height: 2250\r",
							"            },\r",
							"            api_model: \"artworks\",\r",
							"            is_boosted: false,\r",
							"            api_link: \"https://api.artic.edu/api/v1/artworks/119335\",\r",
							"            id: 119335,\r",
							"            title: \"Baroque Pearl Mounted as a Cat Holding a Mouse\",\r",
							"            timestamp: \"2024-07-30T17:42:14-05:00\"\r",
							"    },\r",
							"\r",
							"    {\r",
							"        _score: 91.78518,\r",
							"            thumbnail: {\r",
							"                alt_text: \"A work made of lithograph in black on ivory wove paper, laid down on ivory cloth.\",\r",
							"                width: 1767,\r",
							"                lqip: \"data:image/gif;base64,R0lGODlhBAAFAPQAAC0nHFpSRH92Z4V+boyDdJOId6KWh6GYiaacjKidja6lkq6klLKolrmunb6zosO4psK6qMe6qNHEstPItwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAAAALAAAAAAEAAUAAAURYIQs0zMojQBARxEwhOQkRggAOw==\",\r",
							"                height: 2250\r",
							"            },\r",
							"            api_model: \"artworks\",\r",
							"            is_boosted: false,\r",
							"            api_link: \"https://api.artic.edu/api/v1/artworks/68825\",\r",
							"            id: 68825,\r",
							"            title: \"The Cats' Rendezvous\",\r",
							"            timestamp: \"2024-07-30T23:28:45-05:00\"\r",
							"    },\r",
							"\r",
							"\r",
							"{\r",
							"        _score: 89.527245,\r",
							"            thumbnail: {\r",
							"                alt_text: \"A work made of engraving on ivory paper.\",\r",
							"                width: 3000,\r",
							"                lqip: \"data:image/gif;base64,R0lGODlhBgAFAPQAADs2K0I9MkM/NFJNPFhSQV1XRGFaSGJcTGVfT2dhTWhhTW5nU25nVm9oV29pWXFqVXFrWXZuWHdwW3hwXoN6X4Z9YoR7ZIR7ZYZ9ZZCHcK6kibWrj8e8n8m/oQAAAAAAACH5BAAAAAAALAAAAAAGAAUAAAUYILRUlIIwwVAYxwREhHU1wpNgksZ1W+aEADs=\",\r",
							"                height: 2305\r",
							"            },\r",
							"            api_model: \"artworks\",\r",
							"            is_boosted: false,\r",
							"            api_link: \"https://api.artic.edu/api/v1/artworks/9372\",\r",
							"            id: 9372,\r",
							"            title: \"The Large Cat\",\r",
							"            timestamp: \"2024-07-30T17:18:45-05:00\"\r",
							"    }\r",
							"    // ... добави тук останалите очаквани стойности за всеки елемент от данните\r",
							"];\r",
							"\r",
							"const verifyDataItem = (item, index) => {\r",
							"    pm.expect(item._score).to.be.a('number');\r",
							"    if (expectedValues[index]) {\r",
							"        pm.expect(item.thumbnail.alt_text).to.be.a('string');\r",
							"        pm.expect(item.thumbnail.width).to.be.a('number').and.eql(expectedValues[index].thumbnail.width);\r",
							"        pm.expect(item.thumbnail.height).to.be.a('number').and.eql(expectedValues[index].thumbnail.height);\r",
							"        pm.expect(item.api_model).to.be.a('string').and.eql(expectedValues[index].api_model);\r",
							"        pm.expect(item.is_boosted).to.be.false;\r",
							"        pm.expect(item.api_link).to.be.a('string').and.eql(expectedValues[index].api_link);\r",
							"        pm.expect(item.id).to.be.a('number').and.eql(expectedValues[index].id);\r",
							"        pm.expect(item.title).to.be.a('string').and.eql(expectedValues[index].title);\r",
							"        pm.expect(item.timestamp).to.be.a('string');\r",
							"    }\r",
							"};\r",
							"\r",
							"pm.test(\"Verify data items\", function() {\r",
							"    response.data.forEach(verifyDataItem);\r",
							"});\r",
							"\r",
							"pm.test(\"Verify info\", function() {\r",
							"    const info = response.info;\r",
							"    const expectedLinks = [\r",
							"        \"https://creativecommons.org/publicdomain/zero/1.0/\",\r",
							"        \"https://www.artic.edu/terms\"\r",
							"    ];\r",
							"\r",
							"    pm.expect(info.license_text).to.be.a('string');\r",
							"    pm.expect(info.license_links).to.be.an('array').and.eql(expectedLinks);\r",
							"    pm.expect(info.version).to.be.a('string').and.eql(\"1.10\");\r",
							"});\r",
							"\r",
							"pm.test(\"Verify config\", function() {\r",
							"    const config = response.config;\r",
							"\r",
							"    pm.expect(config.iiif_url).to.eql('https://www.artic.edu/iiif/2');\r",
							"    pm.expect(config.website_url).to.eql('http://www.artic.edu');\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://api.artic.edu/api/v1/artworks/search?q=cats",
					"protocol": "https",
					"host": [
						"api",
						"artic",
						"edu"
					],
					"path": [
						"api",
						"v1",
						"artworks",
						"search"
					],
					"query": [
						{
							"key": "q",
							"value": "cats"
						}
					]
				}
			},
			"response": []
		}
	]
}